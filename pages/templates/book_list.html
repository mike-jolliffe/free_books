{% extends "base.html" %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="text-center">Books</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        {% if perms.pages.can_add_book %}
          <a class="float-right btn btn-primary" href="{% url 'book-create-form' %}">+ Add New Book</a>
        {% endif %}
      </div>
    </div>
  </div>
  <br>
  <div class="container">
    {% if book_list %}
      <table class="table table-hover">
        <th>Book</th>
        <th>Author(s)</th>
        {% for book in book_list %}
          <tr>
            <td><a href="{{ book.get_absolute_url }}">{{ book.title }} </a></td> 
            <td>{{ book.authors.all|join:', ' }}</td>
          </tr>
        {% endfor %}
      </table>
    {% else %}
      <p>There are no books in the library.</p>
    {% endif %}      
  </div>
    
{% endblock %}